var app=angular.module("regisreview",["ngRoute"]);app.config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/home.html",controller:"HomeController"}).when("/map",{templateUrl:"views/map.html",controller:"MapController"}).when("/finances",{templateUrl:"views/finances.html",controller:"FinancesController"}).when("/goals",{templateUrl:"views/goals.html",controller:"GoalsController"}).when("/hair",{templateUrl:"views/hair.html",controller:"HairController"}).when("/hair-rating",{templateUrl:"views/hair-rating.html",controller:"HairRatingController"}).when("/strengths-devs",{templateUrl:"views/strengths-development.html",controller:"StrengthsDevsController"}).when("/signature",{templateUrl:"views/signature.html",controller:"SignatureController"}).when("/final-rating",{templateUrl:"/views/final-rating.html",controller:"FinalRatingController"}),b.html5Mode(!0)}]),app.controller("MainController",["$scope","$http","$location","ReviewService",function(a,b,c,d){a.statuses=d.statuses,a.ReviewService=d,a.leader=!1,a.emp=!1,a.hairSubsectionH=!0,a.hairSubsectionA=!1,a.hairSubsectionI=!1,a.hairSubsectionR=!1,a.setCurrentGoal=function(a){d.subsections.currentGoal=a,console.log("Current goal is",d.subsections.currentGoal)},a.setCurrentHAIR=function(b){d.subsections.currentHAIR=b+5,console.log("Current HAIR is",d.subsections.currentHAIR),a.setImgHAIR()},a.setImgHAIR=function(){6==d.subsections.currentHAIR?(a.hairSubsectionH=!0,a.hairSubsectionA=!1,a.hairSubsectionI=!1,a.hairSubsectionR=!1):7==d.subsections.currentHAIR?(a.hairSubsectionH=!1,a.hairSubsectionA=!0,a.hairSubsectionI=!1,a.hairSubsectionR=!1):8==d.subsections.currentHAIR?(a.hairSubsectionH=!1,a.hairSubsectionA=!1,a.hairSubsectionI=!0,a.hairSubsectionR=!1):(a.hairSubsectionH=!1,a.hairSubsectionA=!1,a.hairSubsectionI=!1,a.hairSubsectionR=!0)},a.strengths=!1,a.development=!1,a.setCurrentStrengthDev=function(b){d.subsections.currentStrengthDev=b+10,console.log("Current strength/dev is",d.subsections.currentStrengthDev),1==b?(a.strengths=!0,a.development=!1):(a.strengths=!1,a.development=!0)},a.goMap=function(){console.log("goMap function hit"),d.getReview(a.currentReviewEmpInfo.RegisId),c.path("/map")}}]),app.controller("HomeController",["$scope","$http","ReviewService",function(a,b,c){a.myReview=c.myReview,a.teamReviews=c.teamReviews,a.loadHomePageInfo=c.loadHomePageInfo,a.type=c.type,a.getReview=c.getReview,a.thisUser=c.thisUser,a.myReviewStatuses=c.myReviewStatuses,a.signOwnReview=c.signOwnReview}]),app.factory("ReviewService",["$http","$location",function(a,b){var c={},d={},e={},f={},g={currentGoal:1,currentHAIR:5,currentStrengthDev:10},h={hairSubsectionH:!1,hairSubsectionA:!1,hairSubsectionI:!1,hairSubsectionR:!1},i={leader:!1,emp:!1},j={typeField:!0,typeSalon:!0},k={empOneTwo:!1,empOneToFive:!1,empThreePlus:!1,empFivePlus:!1,empSix:!1,empSixAndNoEmpSignature:!1,empSeven:!1},l={empOneTwo:!1,empOneToFive:!1,empThreePlus:!1,empFivePlus:!1,empSix:!1,empSixAndNoEmpSignature:!1,empSeven:!1,leaderThreePlus:!1,leaderThreeFour:!1,leaderThreeFourFive:!1,leaderFive:!1,leaderSix:!1,leaderSixAndNoLeaderSignature:!1,leaderSixPlus:!1},m={empReadyToSubmit:!1,leaderReadyToSubmit:!1},n=function(){if(1==i.emp)if(1==j.typeField)if(0==f.subsections[0].isCompleted)m.empReadyToSubmit=!1;else{for(var a=!0,b=6;14>b;b++)0==f.subsections[b].isCompleted&&(a=!1);m.empReadyToSubmit=a}else{for(var a=!0,b=1;14>b;b++)0==f.subsections[b].isCompleted&&(a=!1);m.empReadyToSubmit=a}else if(1==j.typeField)if(0==f.subsections[0].isLeaderCompleted)m.leaderReadyToSubmit=!1;else{for(var a=!0,b=6;14>b;b++)0==f.subsections[b].isLeaderCompleted&&(a=!1);m.leaderReadyToSubmit=a}else{for(var a=!0,b=1;14>b;b++)0==f.subsections[b].isLeaderCompleted&&(a=!1);m.leaderReadyToSubmit=a}},o=function(){a.get("token/1").then(function(a){console.log(a.data),c={regisId:a.data.regisId},console.log("thisUser",c),p({regisId:a.data.regisId}),r({regisId:a.data.regisId})})},p=function(b){a.post("/employeeData",b).then(function(a){console.log(a.data),d.empInfo=a.data[0][0],d.subsections=a.data[1],console.log("My Review",d),u(),t(d.empInfo.ReviewType),console.log("myReviewStatuses",k)})},q=function(b){console.log("employee being passed in",b);var c={regisId:b};console.log("getReview hit, using thisEmployee:",c),a.post("/employeeData",c).then(function(a){f.empInfo=a.data[0][0],f.subsections=a.data[1],console.log("Current Review",f),t(f.empInfo.ReviewType),v(),n(),console.log("Role object:",i),console.log("Statuses object:",l)})},r=function(b){a.post("/employeeData/leaderReviews",b).then(function(a){e.data=a.data,console.log("My team's reviews:",e)})},s=function(){console.log("signOwnReview hit"),q(d.empInfo.RegisId),b.path("/signature")},t=function(a){"FS"==a?(j.typeField=!0,j.typeSalon=!1):(j.typeField=!1,j.typeSalon=!0),console.log("type object",a)},u=function(){1==d.empInfo.ReviewStatus||2==d.empInfo.ReviewStatus?(k.empOneTwo=!0,k.empOneToFive=!0):3==d.empInfo.ReviewStatus||4==d.empInfo.ReviewStatus?(k.empOneTwo=!1,k.empOneToFive=!0,k.empThreePlus=!0):5==d.empInfo.ReviewStatus?(k.empOneToFive=!0,k.empThreePlus=!0,k.empFivePlus=!0):6==d.empInfo.ReviewStatus?(k.empOneToFive=!1,k.empThreePlus=!0,k.empFivePlus=!0,k.empSix=!0,null!=d.empInfo.EmployeeSignature?k.empSixAndNoEmpSignature=!1:k.empSixAndNoEmpSignature=!0):7==d.empInfo.ReviewStatus?(k.empThreePlus=!0,k.empFivePlus=!0,k.empSeven=!0):(k.empOneTwo=!1,k.empOneToFive=!1,k.empThreePlus=!1,k.empFivePlus=!1,k.empSix=!1,k.empSixAndNoEmpSignature=!1,k.empSeven=!1)},v=function(){c.regisId==f.empInfo.RegisId?(i.emp=!0,i.leader=!1):c.regisId==f.empInfo.LeaderRegisId?(i.emp=!1,i.leader=!0):console.log("Error.  User is neither employee nor leader for this review."),1==i.leader?(l.empOneTwo=!1,l.empOneToFive=!1,l.empThreePlus=!1,l.empFivePlus=!1,l.empSix=!1,l.empSixAndNoEmpSignature=!1,l.empSeven=!1,3==f.empInfo.ReviewStatus||4==f.empInfo.ReviewStatus?(l.leaderThreePlus=!0,l.leaderThreeFour=!0,l.leaderThreeFourFive=!0):5==f.empInfo.ReviewStatus?(l.leaderThreePlus=!0,l.leaderThreeFourFive=!0,l.leaderFive=!0):6==f.empInfo.ReviewStatus?(l.leaderThreePlus=!0,l.leaderSix=!0,l.leaderSixPlus=!0,6==f.empInfo.ReviewStatus&&null!=f.empInfo.LeaderSignature?l.leaderSixAndNoLeaderSignature=!1:l.leaderSixAndNoLeaderSignature=!0):7==f.empInfo.ReviewStatus?(l.leaderThreePlus=!0,l.leaderSixPlus=!0):(l.leaderThreePlus=!1,l.leaderThreeFour=!1,l.leaderThreeFourFive=!1,l.leaderFive=!1,l.leaderSix=!1,l.leaderSixPlus=!1)):(l.leaderThreePlus=!1,l.leaderThreeFour=!1,l.leaderThreeFourFive=!1,l.leaderFive=!1,l.leaderSix=!1,l.leaderSixPlus=!1,1==f.empInfo.ReviewStatus||2==f.empInfo.ReviewStatus?(l.empOneTwo=!0,l.empOneToFive=!0):3==f.empInfo.ReviewStatus||4==f.empInfo.ReviewStatus?(l.empOneToFive=!0,l.empThreePlus=!0):5==f.empInfo.ReviewStatus?(l.empOneToFive=!0,l.empThreePlus=!0,l.empFivePlus=!0):6==f.empInfo.ReviewStatus?(l.empThreePlus=!0,l.empFivePlus=!0,l.empSix=!0,6==f.empInfo.ReviewStatus&&null!=f.empInfo.EmployeeSignature?l.empSixAndNoEmpSignature=!1:l.empSixAndNoEmpSignature=!0):7==f.empInfo.ReviewStatus?(l.empThreePlus=!0,l.empFivePlus=!0,l.empSeven=!0):(l.empOneTwo=!0,l.empOneToFive=!0,l.empThreePlus=!0,l.empFivePlus=!0,l.empSix=!0,l.empSixAndNoEmpSignature=!0,l.empSeven=!0))};return{loadHomePageInfo:o,getReview:q,updateMyReviewStatuses:u,signOwnReview:s,myReview:d,currentReview:f,teamReviews:e,thisUser:c,subsections:g,imgHAIR:h,statuses:l,submitStatus:m,myReviewStatuses:k,role:i,type:j}}]);