app.controller("FinancesController",["$scope","$http","$location","ReviewService",function(a,b,c,d){d.checkIfLoggedIn(),a.currentReview=d.currentReview,a.financeData=d.currentReview.subsections[0];var e=d.role;a.makeVariance=function(a,b){return a-b},a.makePercentage=function(a,b){var c=(a/b*100).toFixed(1);if("NaN"!=c){var d=(a/b*100).toFixed(1);if("Infinity"!=d)return d+"%"}},a.putCompleteAndGoHAIR=function(){var c=!1,d=!1;1==e.leader?c=!0:d=!0;var f={regisId:a.currentReview.empInfo.RegisId,SectionId:1,SubsectionId:1,data:{SS_Actual:a.financeData.SS_Actual,SS_Target:a.financeData.SS_Target,RS_Actual:a.financeData.RS_Actual,RS_Target:a.financeData.RS_Target,TS_Actual:a.financeData.TS_Actual,TS_Target:a.financeData.TS_Target,C_Actual:a.financeData.C_Actual,C_Target:a.financeData.C_Target,C_Rating:a.financeData.C_Rating,SGC_Actual:a.financeData.SGC_Actual,SGC_Target:a.financeData.SGC_Target,SGC_Rating:a.financeData.SGC_Rating,OverallRating:a.financeData.OverallRating,isCompleted:d,isLeaderCompleted:c}};b.post("/updateData",f).then(function(b){200==b.status&&a.goHAIR()})},a.putAndGoMap=function(){var e={regisId:a.currentReview.empInfo.RegisId,SectionId:1,SubsectionId:1,data:{SS_Actual:a.financeData.SS_Actual,SS_Target:a.financeData.SS_Target,RS_Actual:a.financeData.RS_Actual,RS_Target:a.financeData.RS_Target,TS_Actual:a.financeData.TS_Actual,TS_Target:a.financeData.TS_Target,C_Actual:a.financeData.C_Actual,C_Target:a.financeData.C_Target,C_Rating:a.financeData.C_Rating,SGC_Actual:a.financeData.SGC_Actual,SGC_Target:a.financeData.SGC_Target,SGC_Rating:a.financeData.SGC_Rating,OverallRating:a.financeData.OverallRating}};b.post("/updateData",e).then(function(b){200==b.status&&(d.getReview(a.currentReview.empInfo.RegisId),c.path("/map"))})},a.goHAIR=function(){a.setCurrentHAIR(1),c.path("/hair")}}]);