app.controller("GoalsController",["$scope","$http","$location","ReviewService",function(a,b,c,d){a.currentReviewEmpInfo=d.currentReview.empInfo,a.goalData=d.currentReview.subsections;var e=d.role;a.subsections=d.subsections,a.putCompleteAndGoNextGoal=function(){var c=!1,f=!1;1==e.leader?c=!0:f=!0;var g={regisId:a.currentReviewEmpInfo.RegisId,SectionId:2,SubsectionId:d.subsections.currentGoal,data:{Goal:a.goalData[d.subsections.currentGoal].Goal,EmployeeResponse:a.goalData[d.subsections.currentGoal].EmployeeResponse,LeaderResponse:a.goalData[d.subsections.currentGoal].LeaderResponse,EmployeeGoalRating:a.goalData[d.subsections.currentGoal].EmployeeGoalRating,LeaderGoalRating:a.goalData[d.subsections.currentGoal].LeaderGoalRating,isCompleted:f,isLeaderCompleted:c}};b.post("/updateData",g).then(function(b){200==b.status&&a.goNextGoal()})},a.putAndGoMap=function(){var e={regisId:a.currentReviewEmpInfo.RegisId,SectionId:2,SubsectionId:d.subsections.currentGoal,data:{Goal:a.goalData[d.subsections.currentGoal].Goal,EmployeeResponse:a.goalData[d.subsections.currentGoal].EmployeeResponse,LeaderResponse:a.goalData[d.subsections.currentGoal].LeaderResponse,EmployeeGoalRating:a.goalData[d.subsections.currentGoal].EmployeeGoalRating,LeaderGoalRating:a.goalData[d.subsections.currentGoal].LeaderGoalRating}};b.post("/updateData",e).then(function(b){200==b.status&&(d.getReview(a.currentReviewEmpInfo.RegisId),c.path("/map"))})},a.goNextGoal=function(){if(d.subsections.currentGoal<5){var b=d.subsections.currentGoal+1;a.setCurrentGoal(b)}else console.log("current goal",d.subsections.currentGoal),a.setCurrentHAIR(1),c.path("/hair")}}]);