app.controller("GoalsController",["$scope","$http","$location","$anchorScroll","ReviewService",function(a,b,c,d,e){e.checkIfLoggedIn(),a.currentReviewEmpInfo=e.currentReview.empInfo,a.goalData=e.currentReview.subsections;var f=e.role;a.subsections=e.subsections,a.putCompleteAndGoNextGoal=function(){var c=!1,d=!1;1==f.leader?c=!0:d=!0;var g={regisId:a.currentReviewEmpInfo.RegisId,SectionId:2,SubsectionId:e.subsections.currentGoal,data:{Goal:a.goalData[e.subsections.currentGoal].Goal,EmployeeResponse:a.goalData[e.subsections.currentGoal].EmployeeResponse,LeaderResponse:a.goalData[e.subsections.currentGoal].LeaderResponse,EmployeeGoalRating:a.goalData[e.subsections.currentGoal].EmployeeGoalRating,LeaderGoalRating:a.goalData[e.subsections.currentGoal].LeaderGoalRating,isCompleted:d,isLeaderCompleted:c}};b.post("/updateData",g).then(function(b){200==b.status&&a.goNextGoal()})},a.putAndGoMap=function(){var d={regisId:a.currentReviewEmpInfo.RegisId,SectionId:2,SubsectionId:e.subsections.currentGoal,data:{Goal:a.goalData[e.subsections.currentGoal].Goal,EmployeeResponse:a.goalData[e.subsections.currentGoal].EmployeeResponse,LeaderResponse:a.goalData[e.subsections.currentGoal].LeaderResponse,EmployeeGoalRating:a.goalData[e.subsections.currentGoal].EmployeeGoalRating,LeaderGoalRating:a.goalData[e.subsections.currentGoal].LeaderGoalRating}};b.post("/updateData",d).then(function(b){200==b.status&&(e.getReview(a.currentReviewEmpInfo.RegisId),c.path("/map"))})},a.goNextGoal=function(){if(e.subsections.currentGoal<5){var b=e.subsections.currentGoal+1;a.setCurrentGoal(b),d("top")}else console.log("current goal",e.subsections.currentGoal),a.setCurrentHAIR(1),c.path("/hair")}}]);